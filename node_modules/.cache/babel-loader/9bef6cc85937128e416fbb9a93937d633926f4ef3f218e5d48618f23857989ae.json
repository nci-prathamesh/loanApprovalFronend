{"ast":null,"code":"import _regeneratorRuntime from\"/workspaces/loanApprovalFronend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspaces/loanApprovalFronend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspaces/loanApprovalFronend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _readOnlyError from\"/workspaces/loanApprovalFronend/node_modules/@babel/runtime/helpers/esm/readOnlyError.js\";import axios from'axios';import React,{useState,useEffect}from'react';import{Link,useNavigate,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function(){var _useParams=useParams(),id=_useParams.id;var userId=\"\";var _useState=useState({userId:\"\",userFirstName:\"\",userMiddleName:\"\",userLastName:\"\",userGender:\"\",useridValid:false,phoneNumber:\"\",email:\"\",userType:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),loanapplication=_useState4[0],setLoanapplication=_useState4[1];useEffect(function(){loadUser();loadApplications();},[]);var loadUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:8080/user/user/\".concat(id));case 2:result=_context.sent;setUser(result.data);result.data.userId,_readOnlyError(\"userId\");case 5:case\"end\":return _context.stop();}},_callee);}));return function loadUser(){return _ref.apply(this,arguments);};}();var loadApplications=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"http://localhost:8080/loanapplication/loanapplications/\".concat(user.userId));case 2:result=_context2.sent;setLoanapplication(result.data);case 4:case\"end\":return _context2.stop();}},_callee2);}));return function loadApplications(){return _ref2.apply(this,arguments);};}();var deleteUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"http://localhost:8080/user/user/\".concat(id));case 2:loadApplications();case 3:case\"end\":return _context3.stop();}},_callee3);}));return function deleteUser(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 offset-md-3 border rounded p-4 mt-2 shadow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fw-semibold text-primary text-center\",children:\" User Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[\"Admin Details of User -\",/*#__PURE__*/_jsx(\"h4\",{children:user.userId}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group list-group-flush\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"First : \"}),user.userFirstName]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Middle Name : \"}),user.userMiddleName]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Last Name : \"}),user.userLastName]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Gender : \"}),user.userGender]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Phone Number : \"}),user.phoneNumber]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Email Address : \"}),user.email]})]})]})}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-secondary my-4\",to:\"/adminView/\".concat(id),children:\"Back to Application List\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"py-4\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table border shadow table-primary table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Loan Used For\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Tenure\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:loanapplication.map(function(app,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:app.applicationId}),/*#__PURE__*/_jsx(\"td\",{children:app.loanUsedFor}),/*#__PURE__*/_jsx(\"td\",{children:app.loanAmount}),/*#__PURE__*/_jsx(\"td\",{children:app.expectedTenure}),/*#__PURE__*/_jsx(\"td\",{style:{color:app.status==\"Approved\"?\"Green\":app.status==\"Rejected\"?\"red\":\"yellow\"},children:app.status}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{type:\"button\",className:\"btn btn-primary mx-2\",to:\"/viewloanapplication/\".concat(app.applicationId),children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger mx-2\",onClick:function onClick(){return deleteUser(user.id);},children:\"Delete\"})]})]});})})]})})]});}","map":{"version":3,"names":["axios","React","useState","useEffect","Link","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","_useParams","id","userId","_useState","userFirstName","userMiddleName","userLastName","userGender","useridValid","phoneNumber","email","userType","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","loanapplication","setLoanapplication","loadUser","loadApplications","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","get","concat","sent","data","_readOnlyError","stop","apply","arguments","_ref2","_callee2","_callee2$","_context2","deleteUser","_ref3","_callee3","_callee3$","_context3","delete","_x","className","children","to","scope","map","app","index","applicationId","loanUsedFor","loanAmount","expectedTenure","style","color","status","type","onClick"],"sources":["/workspaces/loanApprovalFronend/src/users/AdminUserDetails.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useState,useEffect } from 'react';\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\n\r\nexport default function\r\n    () {\r\n\r\n    const { id } = useParams();\r\n    const userId=\"\";\r\n\r\n    const [user, setUser] = useState({\r\n        userId: \"\",\r\n        userFirstName: \"\",\r\n        userMiddleName: \"\",\r\n        userLastName: \"\",\r\n        userGender: \"\",\r\n        useridValid: false,\r\n        phoneNumber: \"\",\r\n        email: \"\",\r\n        userType: \"\"\r\n    });\r\n\r\n    const [loanapplication, setLoanapplication] = useState([]);\r\n\r\n    useEffect(() => {\r\n        loadUser();\r\n        loadApplications();\r\n    }, []);\r\n\r\n    const loadUser = async () => {\r\n        const result = await axios.get(`http://localhost:8080/user/user/${id}`);\r\n        \r\n        setUser(result.data);\r\n        userId=result.data.userId;\r\n    };\r\n\r\n    const loadApplications= async ()=>{\r\n        const result = await axios.get(`http://localhost:8080/loanapplication/loanapplications/${user.userId}`);\r\n        setLoanapplication(result.data);\r\n        };\r\n        const deleteUser = async (id) => {\r\n            await axios.delete(`http://localhost:8080/user/user/${id}`);\r\n            loadApplications();\r\n        };\r\n    return (\r\n        <div className='container'>\r\n            <div className='row'>\r\n                <div className='col-md-6 offset-md-3 border rounded p-4 mt-2 shadow'>\r\n                    <h2 className='fw-semibold text-primary text-center'> User Details</h2>\r\n                    <div className='card'>\r\n                        <div className='card-header'>Admin Details of User -\r\n                        <h4>{user.userId}</h4>\r\n                            <ul className='list-group list-group-flush'>\r\n                                <li className='list-group-item'>\r\n                                    <b>First : </b>\r\n                                    {user.userFirstName}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>Middle Name : </b>\r\n                                    {user.userMiddleName}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>Last Name : </b>\r\n                                    {user.userLastName}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>Gender : </b>\r\n                                    {user.userGender}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>Phone Number : </b>\r\n                                    {user.phoneNumber}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>Email Address : </b>\r\n                                    {user.email}\r\n                                </li>\r\n                                \r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <Link className='btn btn-secondary my-4' to={`/adminView/${id}`}>Back to Application List</Link>\r\n                </div>\r\n            </div>\r\n            <div className='py-4'>\r\n                <table className=\"table border shadow table-primary table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">id</th>\r\n                            <th scope=\"col\">Loan Used For</th>\r\n                            <th scope=\"col\">Amount</th>\r\n                            <th scope=\"col\">Tenure</th>\r\n                            <th scope=\"col\">Status</th>\r\n                            <th scope=\"col\"></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            loanapplication.map((app, index) => (\r\n                                <tr>\r\n                                    <th scope=\"row\">{app.applicationId}</th>\r\n                                    <td>{app.loanUsedFor}</td>\r\n                                    <td>{app.loanAmount}</td>\r\n                                    <td>{app.expectedTenure}</td>\r\n                                    <td style={{ color: \r\n                                    (app.status==\"Approved\")?\"Green\":((app.status==\"Rejected\")?\"red\":\"yellow\") }}\r\n                                    >{app.status}</td>\r\n                                    <td>\r\n                                        <Link type=\"button\" className=\"btn btn-primary mx-2\"\r\n                                            to={`/viewloanapplication/${app.applicationId}`}>View</Link>\r\n                                        <button type=\"button\" className=\"btn btn-danger mx-2\"\r\n                                            onClick={() => deleteUser(user.id)}\r\n                                        >Delete</button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                        }\r\n\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from\"/workspaces/loanApprovalFronend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspaces/loanApprovalFronend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspaces/loanApprovalFronend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState,useEffect}from'react';import{Link,useNavigate,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function(){var _useParams=useParams(),applicationId=_useParams.applicationId;var navigate=useNavigate();var _useState=useState({userId:\"\",applicationId:\"\",loanAmount:\"\",expectedTenure:\"\",annualIncome:\"\",loanUsedFor:\"\",maritalStatus:\"\",address:\"\",city:\"\",state:\"\",userType:\"\",status:\"pending\"}),_useState2=_slicedToArray(_useState,2),loanapplication=_useState2[0],setLoanapplication=_useState2[1];useEffect(function(){loadApplications();},[]);var handleToClose=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(loanapplication);_context.next=3;return axios.get(\"http://localhost:8080/user/user/\".concat(loanapplication.userId));case 3:result=_context.sent;console.log(result);navigate(\"/adminUserDetails/\".concat(result.data.id));case 6:case\"end\":return _context.stop();}},_callee);}));return function handleToClose(){return _ref.apply(this,arguments);};}();var loadApplications=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"http://localhost:8080/loanapplication/loanapplication/\".concat(applicationId));case 2:result=_context2.sent;setLoanapplication(result.data);case 4:case\"end\":return _context2.stop();}},_callee2);}));return function loadApplications(){return _ref2.apply(this,arguments);};}();var deleteUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"http://localhost:8080/user/user/\".concat(id));case 2:loadApplications();case 3:case\"end\":return _context3.stop();}},_callee3);}));return function deleteUser(_x){return _ref3.apply(this,arguments);};}();var changeStatusApproved=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:loanapplication.status=\"Approved\";_context4.next=3;return axios.put(\"http://localhost:8080/loanapplication/update/\".concat(applicationId),loanapplication);case 3:navigate(\"/viewloanapplication/\".concat(applicationId));case 4:case\"end\":return _context4.stop();}},_callee4);}));return function changeStatusApproved(){return _ref4.apply(this,arguments);};}();var changeStatusRejected=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:loanapplication.status=\"Rejected\";_context5.next=3;return axios.put(\"http://localhost:8080/loanapplication/update/\".concat(applicationId),loanapplication);case 3:navigate(\"/viewloanapplication/\".concat(applicationId));case 4:case\"end\":return _context5.stop();}},_callee5);}));return function changeStatusRejected(){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 offset-md-3 border rounded p-4 mt-2 shadow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fw-semibold text-primary text-center\",children:\" Loan Application Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group list-group-flush\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Application Id : \"}),applicationId]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Loan Amount : \"}),loanapplication.loanAmount]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Annual Income : \"}),loanapplication.annualIncome]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Tenure : \"}),loanapplication.expectedTenure]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Loan Used For : \"}),loanapplication.loanUsedFor]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Address : \"}),loanapplication.address]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"City : \"}),loanapplication.city]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"State : \"}),loanapplication.state]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Status : \"}),loanapplication.status]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:changeStatusApproved,className:\"btn btn-success\",children:\"APPROVE\"})}),/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:changeStatusRejected,className:\"btn btn-danger\",children:\"REJECT\"})})]})})}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-secondary my-4\",onClick:handleToClose,children:\"Back to User\"})]})})});}","map":{"version":3,"names":["axios","React","useState","useEffect","Link","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","_useParams","applicationId","navigate","_useState","userId","loanAmount","expectedTenure","annualIncome","loanUsedFor","maritalStatus","address","city","state","userType","status","_useState2","_slicedToArray","loanapplication","setLoanapplication","loadApplications","handleToClose","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","console","log","get","concat","sent","data","id","stop","apply","arguments","_ref2","_callee2","_callee2$","_context2","deleteUser","_ref3","_callee3","_callee3$","_context3","delete","_x","changeStatusApproved","_ref4","_callee4","_callee4$","_context4","put","changeStatusRejected","_ref5","_callee5","_callee5$","_context5","className","children","type","onClick"],"sources":["/workspaces/loanApprovalFronend/src/users/viewApplications.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useState,useEffect } from 'react';\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\n\r\nexport default function\r\n    () {\r\n\r\n    const { applicationId } = useParams();\r\n    let navigate = useNavigate();\r\n\r\n        const [loanapplication, setLoanapplication] = useState({\r\n        userId: \"\",\r\n        applicationId:\"\",\r\n        loanAmount: \"\",\r\n        expectedTenure:\"\",\r\n        annualIncome: \"\",\r\n        loanUsedFor: \"\",\r\n        maritalStatus: \"\",\r\n        address: \"\",\r\n        city: \"\",\r\n        state: \"\",\r\n        userType: \"\",\r\n        status:\"pending\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        loadApplications();\r\n    }, []);\r\n\r\n    const handleToClose =async () => {\r\n        console.log(loanapplication);\r\n        const result = await axios.get(`http://localhost:8080/user/user/${loanapplication.userId}`);\r\n        \r\n        console.log(result);\r\n      navigate(`/adminUserDetails/${result.data.id}`);\r\n    };\r\n\r\n    const loadApplications= async ()=>{\r\n        const result = await axios.get(`http://localhost:8080/loanapplication/loanapplication/${applicationId}`);\r\n        setLoanapplication(result.data);\r\n        };\r\n        const deleteUser = async (id) => {\r\n            await axios.delete(`http://localhost:8080/user/user/${id}`);\r\n            loadApplications();\r\n        };\r\n\r\n        const changeStatusApproved=async()=>{\r\n            loanapplication.status=\"Approved\";\r\n            await axios.put(`http://localhost:8080/loanapplication/update/${applicationId}`, loanapplication);\r\n            navigate(`/viewloanapplication/${applicationId}`);\r\n        };\r\n        const changeStatusRejected=async()=>{\r\n            loanapplication.status=\"Rejected\";\r\n            await axios.put(`http://localhost:8080/loanapplication/update/${applicationId}`, loanapplication);\r\n            navigate(`/viewloanapplication/${applicationId}`);\r\n        };\r\n\r\n    return (\r\n        <div className='container'>\r\n            <div className='row'>\r\n                <div className='col-md-6 offset-md-3 border rounded p-4 mt-2 shadow'>\r\n                    <h2 className='fw-semibold text-primary text-center'> Loan Application Details</h2>\r\n                    <div className='card'>\r\n                        <div className='card-header'>\r\n                            <ul className='list-group list-group-flush'>\r\n                                <li className='list-group-item'>\r\n                                    <b>Application Id : </b>\r\n                                    {applicationId}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>Loan Amount : </b>\r\n                                    {loanapplication.loanAmount}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>Annual Income : </b>\r\n                                    {loanapplication.annualIncome}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>Tenure : </b>\r\n                                    {loanapplication.expectedTenure}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>Loan Used For : </b>\r\n                                    {loanapplication.loanUsedFor}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>Address : </b>\r\n                                    {loanapplication.address}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>City : </b>\r\n                                    {loanapplication.city}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>State : </b>\r\n                                    {loanapplication.state}\r\n                                </li>\r\n                                <li className='list-group-item'>\r\n                                    <b>Status : </b>\r\n                                    {loanapplication.status}\r\n                                </li>\r\n                                <li>\r\n                                <button type=\"button\" onClick={changeStatusApproved} className=\"btn btn-success\">APPROVE</button>\r\n                                </li>\r\n                                <li></li>\r\n                                <li>\r\n                                <button type=\"button\" onClick={changeStatusRejected} className=\"btn btn-danger\">REJECT</button>\r\n                                \r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <Link className='btn btn-secondary my-4' onClick={handleToClose}>Back to User</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}